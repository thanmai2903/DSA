[Burst baloons](https://leetcode.com/problems/burst-balloons/)

## Memoization

```cpp
class Solution {
public:
    int dp[501][501];
    int maxCoins(vector<int>& nums) {
        // preprocessing: remove all zeros, insert 1 into the begin and the end
        vector<int> cleaned = {1};
        for (auto &num : nums)
            if (num) cleaned.push_back(num);
        cleaned.push_back(1);

        int n = cleaned.size()-2;
        memset(dp, -1, sizeof(dp));
        return helper(1, n, cleaned);
    }

    int helper(int i, int j, vector<int>& nums) {
        if (i > j) return 0;
        if(i == j){    // Only one element exists
            dp[i][j] = nums[i-1]*nums[i]*nums[i+1];
        }

        if (dp[i][j] != -1) return dp[i][j];

        for (int k = i; k <= j; k++) {
            int subRes =  nums[i - 1] * nums[k] * nums[j + 1] + helper(i, k - 1, nums) + helper(k + 1, j, nums);
            dp[i][j] = max(dp[i][j],subRes);
        }

        return dp[i][j] ;
    }
};
```

## tabulation

```cpp
for(int l = 1; l < n; l++) {
    for(int i = 0; i < n-l; i++) {
        int j = i+l;
        for(int k = i; k <= j; k++) {
            dp[i][j] = max(dp[i][j], (((k>i && k>0) ? dp[i][k-1] : 0) + (i>0 ? nums[i-1] : 1) * nums[k] * (j<n-1 ? nums[j+1] : 1) + ((k<j && k<n-1) ? dp[k+1][j] : 0)));
        }
    }
}
return dp[0][n-1];
```
